blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Processing ASERT transition block
W | blockchain | Block bits mismatch: calculated 69079039, header has 504352751
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 68947833, header has 504342639
W | blockchain | Allowing mismatch for special block
^CW | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Processing ASERT transition block
W | blockchain | Block bits mismatch: calculated 69079039, header has 504352751
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 68947833, header has 504342639
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Processing ASERT transition block
W | blockchain | Block bits mismatch: calculated 69079039, header has 504352751
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 68947833, header has 504342639
W | blockchain | Allowing mismatch for special block
^CW | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Processing ASERT transition block
W | blockchain | Block bits mismatch: calculated 69079039, header has 504352751
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 68947833, header has 504342639
W | blockchain | Allowing mismatch for special block
^C^C
➜  electrum_mars git:(implement-asert) ✗ 
➜  electrum_mars git:(implement-asert) ✗ 
➜  electrum_mars git:(implement-asert) ✗ 
➜  electrum_mars git:(implement-asert) ✗ 
➜  electrum_mars git:(implement-asert) ✗ 
➜  electrum_mars git:(implement-asert) ✗ 
➜  electrum_mars git:(implement-asert) ✗ 
➜  electrum_mars git:(implement-asert) ✗ 
➜  electrum_mars git:(implement-asert) ✗ 
➜  electrum_mars git:(implement-asert) ✗ python3 ./electrum-mars
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
^CW | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
^C%                                                                                                                                                                                           ➜  electrum_mars git:(implement-asert) ✗ python3 ./electrum-mars
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
^CW | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
^CW | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
^CW | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
^CW | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
^C^C^C^C^C^C^C^C^C^C^C^CW | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Processing ASERT transition block
W | blockchain | Height: 3000000, Block bits mismatch: calculated 69079039, header has 504352751
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 3000001, Block bits mismatch: calculated 68947833, header has 504342639
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 469816962, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Processing ASERT transition block
W | blockchain | Height: 3000000, Block bits mismatch: calculated 69079039, header has 504352751
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 3000001, Block bits mismatch: calculated 68947833, header has 504342639
W | blockchain | Allowing mismatch for special block
^CW | blockchain | Processing ASERT transition block
W | blockchain | Height: 3000000, Block bits mismatch: calculated 69079039, header has 504352751
W | blockchain | Allowing mismatch for special block
^C
➜  electrum_mars git:(implement-asert) ✗ 
➜  electrum_mars git:(implement-asert) ✗ python3 ./electrum-mars
W | blockchain | Height: 3000001, Block bits mismatch: calculated 68947833, header has 504342639
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 3000001, Block bits mismatch: calculated 68947833, header has 504342639
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 503382015, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Processing ASERT transition block
W | blockchain | Height: 3000000, Block bits mismatch: calculated 69079039, header has 504352751
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 3000001, Block bits mismatch: calculated 68947833, header has 504342639
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 3000001, Block bits mismatch: calculated 68947833, header has 504342639
W | blockchain | Allowing mismatch for special block
E/i | ..interface.[164.90.138.207:50002] | Unexpected bad header: {'version': 4, 'prev_block_hash': '50c11cb5d8b7ec93e928072fc1beec84ebbb79384d0262f5298d31a6bed8a082', 'merkle_root': 'aa53c7ebff04396a22319fcc8513a53d5494d1baeb028b913d008f9b65790883', 'timestamp': 1720883375, 'bits': 504332631, 'nonce': 3289379, 'block_height': 3000002}
E/i | ..interface.[164.90.138.207:50002] | Verification of bad header failed: bits mismatch: 68947794 vs 504332631
E/i | ..interface.[164.90.138.207:50002] | Exception in run: Exception("unexpected bad header during binary: {'version': 4, 'prev_block_hash': '50c11cb5d8b7ec93e928072fc1beec84ebbb79384d0262f5298d31a6bed8a082', 'merkle_root': 'aa53c7ebff04396a22319fcc8513a53d5494d1baeb028b913d008f9b65790883', 'timestamp': 1720883375, 'bits': 504332631, 'nonce': 3289379, 'block_height': 3000002}")
Traceback (most recent call last):
  File "/home/llopin/OSS/electrum-mars/electrum_mars/util.py", line 1091, in wrapper
    return await func(*args, **kwargs)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 487, in wrapper_func
    return await func(self, *args, **kwargs)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 510, in run
    await self.open_session(ssl_context)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 653, in open_session
    async with self.taskgroup as group:
  File "/home/llopin/.local/lib/python3.10/site-packages/aiorpcx/curio.py", line 255, in __aexit__
    await self.join()
  File "/home/llopin/.local/lib/python3.10/site-packages/aiorpcx/curio.py", line 213, in join
    raise task.exception()
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 717, in run_fetch_blocks
    await self._process_header_at_tip()
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 734, in _process_header_at_tip
    await self.sync_until(height)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 747, in sync_until
    last, height = await self.step(height)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 787, in step
    good, bad, bad_header = await self._search_headers_binary(height, bad, bad_header, chain)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 861, in _search_headers_binary
    raise Exception(f'unexpected bad header during binary: {bad_header}')
Exception: unexpected bad header during binary: {'version': 4, 'prev_block_hash': '50c11cb5d8b7ec93e928072fc1beec84ebbb79384d0262f5298d31a6bed8a082', 'merkle_root': 'aa53c7ebff04396a22319fcc8513a53d5494d1baeb028b913d008f9b65790883', 'timestamp': 1720883375, 'bits': 504332631, 'nonce': 3289379, 'block_height': 3000002}
W | blockchain | Processing ASERT transition block
W | blockchain | Height: 3000000, Block bits mismatch: calculated 69079039, header has 504352751
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 3000001, Block bits mismatch: calculated 68947833, header has 504342639
W | blockchain | Allowing mismatch for special block
E/i | ..interface.[164.90.138.207:50002] | Unexpected bad header: {'version': 4, 'prev_block_hash': '50c11cb5d8b7ec93e928072fc1beec84ebbb79384d0262f5298d31a6bed8a082', 'merkle_root': 'aa53c7ebff04396a22319fcc8513a53d5494d1baeb028b913d008f9b65790883', 'timestamp': 1720883375, 'bits': 504332631, 'nonce': 3289379, 'block_height': 3000002}
E/i | ..interface.[164.90.138.207:50002] | Verification of bad header failed: bits mismatch: 68947794 vs 504332631
E/i | ..interface.[164.90.138.207:50002] | Exception in run: Exception("unexpected bad header during binary: {'version': 4, 'prev_block_hash': '50c11cb5d8b7ec93e928072fc1beec84ebbb79384d0262f5298d31a6bed8a082', 'merkle_root': 'aa53c7ebff04396a22319fcc8513a53d5494d1baeb028b913d008f9b65790883', 'timestamp': 1720883375, 'bits': 504332631, 'nonce': 3289379, 'block_height': 3000002}")
Traceback (most recent call last):
  File "/home/llopin/OSS/electrum-mars/electrum_mars/util.py", line 1091, in wrapper
    return await func(*args, **kwargs)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 487, in wrapper_func
    return await func(self, *args, **kwargs)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 510, in run
    await self.open_session(ssl_context)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 653, in open_session
    async with self.taskgroup as group:
  File "/home/llopin/.local/lib/python3.10/site-packages/aiorpcx/curio.py", line 255, in __aexit__
    await self.join()
  File "/home/llopin/.local/lib/python3.10/site-packages/aiorpcx/curio.py", line 213, in join
    raise task.exception()
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 717, in run_fetch_blocks
    await self._process_header_at_tip()
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 731, in _process_header_at_tip
    _, height = await self.step(height, header)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 787, in step
    good, bad, bad_header = await self._search_headers_binary(height, bad, bad_header, chain)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 861, in _search_headers_binary
    raise Exception(f'unexpected bad header during binary: {bad_header}')
Exception: unexpected bad header during binary: {'version': 4, 'prev_block_hash': '50c11cb5d8b7ec93e928072fc1beec84ebbb79384d0262f5298d31a6bed8a082', 'merkle_root': 'aa53c7ebff04396a22319fcc8513a53d5494d1baeb028b913d008f9b65790883', 'timestamp': 1720883375, 'bits': 504332631, 'nonce': 3289379, 'block_height': 3000002}
^C^C%                                                                                                                                                                                         ➜  electrum_mars git:(implement-asert) ✗ 
➜  electrum_mars git:(implement-asert) ✗ 
➜  electrum_mars git:(implement-asert) ✗ 
➜  electrum_mars git:(implement-asert) ✗ 
➜  electrum_mars git:(implement-asert) ✗ 
➜  electrum_mars git:(implement-asert) ✗ 
➜  electrum_mars git:(implement-asert) ✗ 
➜  electrum_mars git:(implement-asert) ✗ python3 ./electrum-mars
W | blockchain | Height: 3000002, Block bits mismatch: calculated 68947794, header has 504332631
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 3000002, Block bits mismatch: calculated 68947794, header has 504332631
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 503382015, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Processing ASERT transition block
W | blockchain | Height: 3000000, Block bits mismatch: calculated 69079039, header has 504352751
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 3000001, Block bits mismatch: calculated 68947833, header has 504342639
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 3000002, Block bits mismatch: calculated 68947794, header has 504332631
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 3000003, Block bits mismatch: calculated 68947756, header has 504322719
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 3000003, Block bits mismatch: calculated 68947756, header has 504322719
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 2999999, Block bits mismatch: calculated 503382015, header has 504365055
W | blockchain | Allowing mismatch for special block
W | blockchain | Processing ASERT transition block
W | blockchain | Height: 3000000, Block bits mismatch: calculated 69079039, header has 504352751
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 3000001, Block bits mismatch: calculated 68947833, header has 504342639
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 3000002, Block bits mismatch: calculated 68947794, header has 504332631
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 3000003, Block bits mismatch: calculated 68947756, header has 504322719
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 3000003, Block bits mismatch: calculated 68947756, header has 504322719
W | blockchain | Allowing mismatch for special block
E/i | ..interface.[164.90.138.207:50002] | Unexpected bad header: {'version': 4, 'prev_block_hash': 'd9030beef52c718cfb66b7c7ec6164a598871d5b8b593fe7c9e16451b62d7c41', 'merkle_root': '8a9231109a2ba13272dc5ce1921c85ba413c23a51dadc7ebb496985081072c9f', 'timestamp': 1720883417, 'bits': 504312895, 'nonce': 554142268, 'block_height': 3000004}
E/i | ..interface.[164.90.138.207:50002] | Verification of bad header failed: bits mismatch: 68947718 vs 504312895
E/i | ..interface.[164.90.138.207:50002] | Exception in run: Exception("unexpected bad header during binary: {'version': 4, 'prev_block_hash': 'd9030beef52c718cfb66b7c7ec6164a598871d5b8b593fe7c9e16451b62d7c41', 'merkle_root': '8a9231109a2ba13272dc5ce1921c85ba413c23a51dadc7ebb496985081072c9f', 'timestamp': 1720883417, 'bits': 504312895, 'nonce': 554142268, 'block_height': 3000004}")
Traceback (most recent call last):
  File "/home/llopin/OSS/electrum-mars/electrum_mars/util.py", line 1091, in wrapper
    return await func(*args, **kwargs)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 487, in wrapper_func
    return await func(self, *args, **kwargs)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 510, in run
    await self.open_session(ssl_context)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 653, in open_session
    async with self.taskgroup as group:
  File "/home/llopin/.local/lib/python3.10/site-packages/aiorpcx/curio.py", line 255, in __aexit__
    await self.join()
  File "/home/llopin/.local/lib/python3.10/site-packages/aiorpcx/curio.py", line 213, in join
    raise task.exception()
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 717, in run_fetch_blocks
    await self._process_header_at_tip()
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 734, in _process_header_at_tip
    await self.sync_until(height)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 747, in sync_until
    last, height = await self.step(height)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 787, in step
    good, bad, bad_header = await self._search_headers_binary(height, bad, bad_header, chain)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 861, in _search_headers_binary
    raise Exception(f'unexpected bad header during binary: {bad_header}')
Exception: unexpected bad header during binary: {'version': 4, 'prev_block_hash': 'd9030beef52c718cfb66b7c7ec6164a598871d5b8b593fe7c9e16451b62d7c41', 'merkle_root': '8a9231109a2ba13272dc5ce1921c85ba413c23a51dadc7ebb496985081072c9f', 'timestamp': 1720883417, 'bits': 504312895, 'nonce': 554142268, 'block_height': 3000004}
W | blockchain | Height: 3000001, Block bits mismatch: calculated 68947833, header has 504342639
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 3000002, Block bits mismatch: calculated 68947794, header has 504332631
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 3000003, Block bits mismatch: calculated 68947756, header has 504322719
W | blockchain | Allowing mismatch for special block
E/i | ..interface.[164.90.138.207:50002] | Unexpected bad header: {'version': 4, 'prev_block_hash': 'd9030beef52c718cfb66b7c7ec6164a598871d5b8b593fe7c9e16451b62d7c41', 'merkle_root': '8a9231109a2ba13272dc5ce1921c85ba413c23a51dadc7ebb496985081072c9f', 'timestamp': 1720883417, 'bits': 504312895, 'nonce': 554142268, 'block_height': 3000004}
E/i | ..interface.[164.90.138.207:50002] | Verification of bad header failed: bits mismatch: 68947718 vs 504312895
E/i | ..interface.[164.90.138.207:50002] | Exception in run: Exception("unexpected bad header during binary: {'version': 4, 'prev_block_hash': 'd9030beef52c718cfb66b7c7ec6164a598871d5b8b593fe7c9e16451b62d7c41', 'merkle_root': '8a9231109a2ba13272dc5ce1921c85ba413c23a51dadc7ebb496985081072c9f', 'timestamp': 1720883417, 'bits': 504312895, 'nonce': 554142268, 'block_height': 3000004}")
Traceback (most recent call last):
  File "/home/llopin/OSS/electrum-mars/electrum_mars/util.py", line 1091, in wrapper
    return await func(*args, **kwargs)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 487, in wrapper_func
    return await func(self, *args, **kwargs)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 510, in run
    await self.open_session(ssl_context)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 653, in open_session
    async with self.taskgroup as group:
  File "/home/llopin/.local/lib/python3.10/site-packages/aiorpcx/curio.py", line 255, in __aexit__
    await self.join()
  File "/home/llopin/.local/lib/python3.10/site-packages/aiorpcx/curio.py", line 213, in join
    raise task.exception()
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 717, in run_fetch_blocks
    await self._process_header_at_tip()
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 731, in _process_header_at_tip
    _, height = await self.step(height, header)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 787, in step
    good, bad, bad_header = await self._search_headers_binary(height, bad, bad_header, chain)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 861, in _search_headers_binary
    raise Exception(f'unexpected bad header during binary: {bad_header}')
Exception: unexpected bad header during binary: {'version': 4, 'prev_block_hash': 'd9030beef52c718cfb66b7c7ec6164a598871d5b8b593fe7c9e16451b62d7c41', 'merkle_root': '8a9231109a2ba13272dc5ce1921c85ba413c23a51dadc7ebb496985081072c9f', 'timestamp': 1720883417, 'bits': 504312895, 'nonce': 554142268, 'block_height': 3000004}
W | blockchain | Height: 3000001, Block bits mismatch: calculated 68947833, header has 504342639
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 3000002, Block bits mismatch: calculated 68947794, header has 504332631
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 3000003, Block bits mismatch: calculated 68947756, header has 504322719
W | blockchain | Allowing mismatch for special block
E/i | ..interface.[164.90.138.207:50002] | Unexpected bad header: {'version': 4, 'prev_block_hash': 'd9030beef52c718cfb66b7c7ec6164a598871d5b8b593fe7c9e16451b62d7c41', 'merkle_root': '8a9231109a2ba13272dc5ce1921c85ba413c23a51dadc7ebb496985081072c9f', 'timestamp': 1720883417, 'bits': 504312895, 'nonce': 554142268, 'block_height': 3000004}
E/i | ..interface.[164.90.138.207:50002] | Verification of bad header failed: bits mismatch: 68947718 vs 504312895
E/i | ..interface.[164.90.138.207:50002] | Exception in run: Exception("unexpected bad header during binary: {'version': 4, 'prev_block_hash': 'd9030beef52c718cfb66b7c7ec6164a598871d5b8b593fe7c9e16451b62d7c41', 'merkle_root': '8a9231109a2ba13272dc5ce1921c85ba413c23a51dadc7ebb496985081072c9f', 'timestamp': 1720883417, 'bits': 504312895, 'nonce': 554142268, 'block_height': 3000004}")
Traceback (most recent call last):
  File "/home/llopin/OSS/electrum-mars/electrum_mars/util.py", line 1091, in wrapper
    return await func(*args, **kwargs)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 487, in wrapper_func
    return await func(self, *args, **kwargs)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 510, in run
    await self.open_session(ssl_context)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 653, in open_session
    async with self.taskgroup as group:
  File "/home/llopin/.local/lib/python3.10/site-packages/aiorpcx/curio.py", line 255, in __aexit__
    await self.join()
  File "/home/llopin/.local/lib/python3.10/site-packages/aiorpcx/curio.py", line 213, in join
    raise task.exception()
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 717, in run_fetch_blocks
    await self._process_header_at_tip()
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 731, in _process_header_at_tip
    _, height = await self.step(height, header)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 787, in step
    good, bad, bad_header = await self._search_headers_binary(height, bad, bad_header, chain)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 861, in _search_headers_binary
    raise Exception(f'unexpected bad header during binary: {bad_header}')
Exception: unexpected bad header during binary: {'version': 4, 'prev_block_hash': 'd9030beef52c718cfb66b7c7ec6164a598871d5b8b593fe7c9e16451b62d7c41', 'merkle_root': '8a9231109a2ba13272dc5ce1921c85ba413c23a51dadc7ebb496985081072c9f', 'timestamp': 1720883417, 'bits': 504312895, 'nonce': 554142268, 'block_height': 3000004}
^C^C^CW | blockchain | Height: 3000001, Block bits mismatch: calculated 68947833, header has 504342639
W | blockchain | Allowing mismatch for special block
^C^CW | blockchain | Height: 3000002, Block bits mismatch: calculated 68947794, header has 504332631
W | blockchain | Allowing mismatch for special block
^C^CW | blockchain | Height: 3000003, Block bits mismatch: calculated 68947756, header has 504322719
W | blockchain | Allowing mismatch for special block
E/i | ..interface.[164.90.138.207:50002] | Unexpected bad header: {'version': 4, 'prev_block_hash': 'd9030beef52c718cfb66b7c7ec6164a598871d5b8b593fe7c9e16451b62d7c41', 'merkle_root': '8a9231109a2ba13272dc5ce1921c85ba413c23a51dadc7ebb496985081072c9f', 'timestamp': 1720883417, 'bits': 504312895, 'nonce': 554142268, 'block_height': 3000004}
E/i | ..interface.[164.90.138.207:50002] | Verification of bad header failed: bits mismatch: 68947718 vs 504312895
^C^CE/i | ..interface.[164.90.138.207:50002] | Exception in run: Exception("unexpected bad header during binary: {'version': 4, 'prev_block_hash': 'd9030beef52c718cfb66b7c7ec6164a598871d5b8b593fe7c9e16451b62d7c41', 'merkle_root': '8a9231109a2ba13272dc5ce1921c85ba413c23a51dadc7ebb496985081072c9f', 'timestamp': 1720883417, 'bits': 504312895, 'nonce': 554142268, 'block_height': 3000004}")
Traceback (most recent call last):
  File "/home/llopin/OSS/electrum-mars/electrum_mars/util.py", line 1091, in wrapper
    return await func(*args, **kwargs)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 487, in wrapper_func
    return await func(self, *args, **kwargs)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 510, in run
    await self.open_session(ssl_context)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 653, in open_session
    async with self.taskgroup as group:
  File "/home/llopin/.local/lib/python3.10/site-packages/aiorpcx/curio.py", line 255, in __aexit__
    await self.join()
  File "/home/llopin/.local/lib/python3.10/site-packages/aiorpcx/curio.py", line 213, in join
    raise task.exception()
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 717, in run_fetch_blocks
    await self._process_header_at_tip()
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 731, in _process_header_at_tip
    _, height = await self.step(height, header)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 787, in step
    good, bad, bad_header = await self._search_headers_binary(height, bad, bad_header, chain)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 861, in _search_headers_binary
    raise Exception(f'unexpected bad header during binary: {bad_header}')
Exception: unexpected bad header during binary: {'version': 4, 'prev_block_hash': 'd9030beef52c718cfb66b7c7ec6164a598871d5b8b593fe7c9e16451b62d7c41', 'merkle_root': '8a9231109a2ba13272dc5ce1921c85ba413c23a51dadc7ebb496985081072c9f', 'timestamp': 1720883417, 'bits': 504312895, 'nonce': 554142268, 'block_height': 3000004}
➜  electrum_mars git:(implement-asert) ✗ python3 ./electrum-mars
W | blockchain | Height: 3000001, Timestamp: 1720883354, Block bits mismatch: calculated 68947833, header has 504342639
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 3000002, Timestamp: 1720883375, Block bits mismatch: calculated 68947794, header has 504332631
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 3000003, Timestamp: 1720883396, Block bits mismatch: calculated 68947756, header has 504322719
W | blockchain | Allowing mismatch for special block
E/i | ..interface.[164.90.138.207:50002] | Unexpected bad header: {'version': 4, 'prev_block_hash': 'd9030beef52c718cfb66b7c7ec6164a598871d5b8b593fe7c9e16451b62d7c41', 'merkle_root': '8a9231109a2ba13272dc5ce1921c85ba413c23a51dadc7ebb496985081072c9f', 'timestamp': 1720883417, 'bits': 504312895, 'nonce': 554142268, 'block_height': 3000004}
E/i | ..interface.[164.90.138.207:50002] | Verification of bad header failed: bits mismatch: 68947718 vs 504312895
E/i | ..interface.[164.90.138.207:50002] | Exception in run: Exception("unexpected bad header during binary: {'version': 4, 'prev_block_hash': 'd9030beef52c718cfb66b7c7ec6164a598871d5b8b593fe7c9e16451b62d7c41', 'merkle_root': '8a9231109a2ba13272dc5ce1921c85ba413c23a51dadc7ebb496985081072c9f', 'timestamp': 1720883417, 'bits': 504312895, 'nonce': 554142268, 'block_height': 3000004}")
Traceback (most recent call last):
  File "/home/llopin/OSS/electrum-mars/electrum_mars/util.py", line 1091, in wrapper
    return await func(*args, **kwargs)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 487, in wrapper_func
    return await func(self, *args, **kwargs)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 510, in run
    await self.open_session(ssl_context)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 653, in open_session
    async with self.taskgroup as group:
  File "/home/llopin/.local/lib/python3.10/site-packages/aiorpcx/curio.py", line 255, in __aexit__
    await self.join()
  File "/home/llopin/.local/lib/python3.10/site-packages/aiorpcx/curio.py", line 213, in join
    raise task.exception()
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 717, in run_fetch_blocks
    await self._process_header_at_tip()
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 731, in _process_header_at_tip
    _, height = await self.step(height, header)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 787, in step
    good, bad, bad_header = await self._search_headers_binary(height, bad, bad_header, chain)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 861, in _search_headers_binary
    raise Exception(f'unexpected bad header during binary: {bad_header}')
Exception: unexpected bad header during binary: {'version': 4, 'prev_block_hash': 'd9030beef52c718cfb66b7c7ec6164a598871d5b8b593fe7c9e16451b62d7c41', 'merkle_root': '8a9231109a2ba13272dc5ce1921c85ba413c23a51dadc7ebb496985081072c9f', 'timestamp': 1720883417, 'bits': 504312895, 'nonce': 554142268, 'block_height': 3000004}
W | blockchain | Height: 3000001, Timestamp: 1720883354, Block bits mismatch: calculated 68947833, header has 504342639
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 3000002, Timestamp: 1720883375, Block bits mismatch: calculated 68947794, header has 504332631
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 3000003, Timestamp: 1720883396, Block bits mismatch: calculated 68947756, header has 504322719
W | blockchain | Allowing mismatch for special block
E/i | ..interface.[164.90.138.207:50002] | Unexpected bad header: {'version': 4, 'prev_block_hash': 'd9030beef52c718cfb66b7c7ec6164a598871d5b8b593fe7c9e16451b62d7c41', 'merkle_root': '8a9231109a2ba13272dc5ce1921c85ba413c23a51dadc7ebb496985081072c9f', 'timestamp': 1720883417, 'bits': 504312895, 'nonce': 554142268, 'block_height': 3000004}
E/i | ..interface.[164.90.138.207:50002] | Verification of bad header failed: bits mismatch: 68947718 vs 504312895
E/i | ..interface.[164.90.138.207:50002] | Exception in run: Exception("unexpected bad header during binary: {'version': 4, 'prev_block_hash': 'd9030beef52c718cfb66b7c7ec6164a598871d5b8b593fe7c9e16451b62d7c41', 'merkle_root': '8a9231109a2ba13272dc5ce1921c85ba413c23a51dadc7ebb496985081072c9f', 'timestamp': 1720883417, 'bits': 504312895, 'nonce': 554142268, 'block_height': 3000004}")
Traceback (most recent call last):
  File "/home/llopin/OSS/electrum-mars/electrum_mars/util.py", line 1091, in wrapper
    return await func(*args, **kwargs)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 487, in wrapper_func
    return await func(self, *args, **kwargs)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 510, in run
    await self.open_session(ssl_context)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 653, in open_session
    async with self.taskgroup as group:
  File "/home/llopin/.local/lib/python3.10/site-packages/aiorpcx/curio.py", line 255, in __aexit__
    await self.join()
  File "/home/llopin/.local/lib/python3.10/site-packages/aiorpcx/curio.py", line 213, in join
    raise task.exception()
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 717, in run_fetch_blocks
    await self._process_header_at_tip()
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 731, in _process_header_at_tip
    _, height = await self.step(height, header)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 787, in step
    good, bad, bad_header = await self._search_headers_binary(height, bad, bad_header, chain)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 861, in _search_headers_binary
    raise Exception(f'unexpected bad header during binary: {bad_header}')
Exception: unexpected bad header during binary: {'version': 4, 'prev_block_hash': 'd9030beef52c718cfb66b7c7ec6164a598871d5b8b593fe7c9e16451b62d7c41', 'merkle_root': '8a9231109a2ba13272dc5ce1921c85ba413c23a51dadc7ebb496985081072c9f', 'timestamp': 1720883417, 'bits': 504312895, 'nonce': 554142268, 'block_height': 3000004}
W | blockchain | Height: 3000001, Timestamp: 1720883354, Block bits mismatch: calculated 68947833, header has 504342639
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 3000002, Timestamp: 1720883375, Block bits mismatch: calculated 68947794, header has 504332631
W | blockchain | Allowing mismatch for special block
W | blockchain | Height: 3000003, Timestamp: 1720883396, Block bits mismatch: calculated 68947756, header has 504322719
W | blockchain | Allowing mismatch for special block
E/i | ..interface.[164.90.138.207:50002] | Unexpected bad header: {'version': 4, 'prev_block_hash': 'd9030beef52c718cfb66b7c7ec6164a598871d5b8b593fe7c9e16451b62d7c41', 'merkle_root': '8a9231109a2ba13272dc5ce1921c85ba413c23a51dadc7ebb496985081072c9f', 'timestamp': 1720883417, 'bits': 504312895, 'nonce': 554142268, 'block_height': 3000004}
E/i | ..interface.[164.90.138.207:50002] | Verification of bad header failed: bits mismatch: 68947718 vs 504312895
^CE/i | ..interface.[164.90.138.207:50002] | Exception in run: Exception("unexpected bad header during binary: {'version': 4, 'prev_block_hash': 'd9030beef52c718cfb66b7c7ec6164a598871d5b8b593fe7c9e16451b62d7c41', 'merkle_root': '8a9231109a2ba13272dc5ce1921c85ba413c23a51dadc7ebb496985081072c9f', 'timestamp': 1720883417, 'bits': 504312895, 'nonce': 554142268, 'block_height': 3000004}")
Traceback (most recent call last):
  File "/home/llopin/OSS/electrum-mars/electrum_mars/util.py", line 1091, in wrapper
    return await func(*args, **kwargs)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 487, in wrapper_func
    return await func(self, *args, **kwargs)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 510, in run
    await self.open_session(ssl_context)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 653, in open_session
    async with self.taskgroup as group:
  File "/home/llopin/.local/lib/python3.10/site-packages/aiorpcx/curio.py", line 255, in __aexit__
    await self.join()
  File "/home/llopin/.local/lib/python3.10/site-packages/aiorpcx/curio.py", line 213, in join
    raise task.exception()
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 717, in run_fetch_blocks
    await self._process_header_at_tip()
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 731, in _process_header_at_tip
    _, height = await self.step(height, header)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 787, in step
    good, bad, bad_header = await self._search_headers_binary(height, bad, bad_header, chain)
  File "/home/llopin/OSS/electrum-mars/electrum_mars/interface.py", line 861, in _search_headers_binary
    raise Exception(f'unexpected bad header during binary: {bad_header}')
Exception: unexpected bad header during binary: {'version': 4, 'prev_block_hash': 'd9030beef52c718cfb66b7c7ec6164a598871d5b8b593fe7c9e16451b62d7c41', 'merkle_root': '8a9231109a2ba13272dc5ce1921c85ba413c23a51dadc7ebb496985081072c9f', 'timestamp': 1720883417, 'bits': 504312895, 'nonce': 554142268, 'block_height': 3000004}
